(()=>{"use strict";var t={d:(e,o)=>{for(var s in o)t.o(o,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{AjaxNavigation:()=>K,Chart:()=>d,Cookie:()=>s,DOM:()=>o,Date:()=>h,Detection:()=>r,Emitter:()=>G,InView:()=>$,Map:()=>a,Money:()=>l,Random:()=>n,Request:()=>X,Url:()=>i});var o={};t.r(o),t.d(o,{create:()=>c,remove:()=>f});var s={};t.r(s),t.d(s,{get:()=>u,set:()=>g});var i={};t.r(i),t.d(i,{get:()=>x,getAll:()=>p,isValidURL:()=>y,set:()=>v});var n={};t.r(n),t.d(n,{range:()=>m,uid:()=>b});var a={};t.r(a),t.d(a,{getDistance:()=>w});var l={};t.r(l),t.d(l,{format:()=>S});var r={};t.r(r),t.d(r,{isMobile:()=>T});var h={};t.r(h),t.d(h,{MILLESECONDS:()=>P,format:()=>M,getDifference:()=>D,getMonth:()=>O});var d={};t.r(d),t.d(d,{Combo:()=>z,Donut:()=>q,Pie:()=>B,Radar:()=>Y});const c=(t,e,o,s)=>{const i=document.createElement(t);for(let t in e)i.setAttribute(t,e[t]);return o&&(i.innerHTML=o),s&&(s instanceof Element&&i.appendChild(s),s instanceof Array&&s.forEach((t=>{t instanceof Element&&i.appendChild(t)}))),i},f=t=>{t.parentNode.removeChild(t)},g=(t,e,o)=>{let s="";if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),s="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+s+"; path=/"},u=t=>{const e=t+"=",o=document.cookie.split(";");for(var s=0;s<o.length;s++){for(var i=o[s];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null},p=(t=window.location.href)=>{const e={};return Array.from(new URLSearchParams(new URL(t).search)).forEach((([t,o])=>{e[encodeURIComponent(t)]=encodeURIComponent(o)})),e},x=(t,e)=>p(e)[t],v=t=>{const{url:e=window.location.href,params:o={},pushState:s=!1}=t,i=new URL(e);return Object.entries(o).forEach((([t,e])=>{""===e?i.searchParams.delete(t):i.searchParams.set(t,e.toString())})),s&&window.history.pushState({},"",i),i.href},y=t=>{try{return new URL(t),!0}catch(t){return!1}},b=(t=4)=>new Array(t).fill(null).map((()=>Math.random().toString(16).slice(2))).join("-"),m=(t=0,e=100)=>{const o=Math.min(t,e),s=Math.max(t,e);return Math.floor(Math.random()*(s-o+1)+o)},w=(t,e)=>{if(!t||!e)return 0;const o=(e[0]-t[0])*Math.PI/180,s=(e[1]-t[1])*Math.PI/180,i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t[0]*Math.PI/180)*Math.cos(e[0]*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371*n*1e3)},S=(t,e=" ")=>t?parseFloat(t).toString().replace(/\./.test(t)?/(\d)(?=(?:\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g,"$1"+e):"0",T=()=>/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),P={seconds:1e3,minutes:6e4,hours:36e5,days:864e5,months:2592e6,years:94608e7},E=(t,e)=>e?t:0===t?6:t-1,O=(t={})=>{const{year:e=(new Date).getFullYear(),month:o=(new Date).getMonth(),weekStartFromSunday:s=!1}=t,i={date:new Date(e,o),count:new Date(e,o+1,0).getDate(),firstWeekDay:E(new Date(e,o).getDay(),s),lastWeekDay:E(new Date(new Date(e,o).setDate(new Date(e,o+1,0).getDate())).getDay(),s)},n={date:new Date(e,o,0),count:new Date(e,o,0).getDate()},a={date:new Date(e,o+1)},l=[];for(let t=i.firstWeekDay-1;t>=0;t--)l.push({day:n.count-t,month:n.date.getMonth(),year:n.date.getFullYear(),previous:!0});for(let t=1;t<=i.count;t++)l.push({day:t,month:i.date.getMonth(),year:i.date.getFullYear(),current:!0});for(let t=1;t<=6-i.lastWeekDay;t++)l.push({day:t,month:a.date.getMonth(),year:a.date.getFullYear(),next:!0});const r=new Date;return l.forEach((t=>{t.day===r.getDate()&&t.year===r.getFullYear()&&t.month===r.getMonth()&&(t.today=!0)})),l},D=(t,e=new Date)=>{if(!t)return null;const o=+e-+t;return Object.keys(P).reduce(((t,e)=>(t[e]=Math.floor(o/P[e]),t)),{})},M=(t,e)=>{let o=e.replace(/{{yyyy}}/g,t.getFullYear().toString());return o=o.replace(/mm/g,(t.getMonth()+1).toString().padStart(2,"0")),o=o.replace(/{{dd}}/g,t.getDate().toString().padStart(2,"0")),o=o.replace(/{{hh}}/g,t.getHours().toString().padStart(2,"0")),o=o.replace(/{{ii}}/g,t.getMinutes().toString().padStart(2,"0")),o=o.replace(/{{ss}}/g,t.getSeconds().toString().padStart(2,"0")),o};CanvasRenderingContext2D.prototype.roundRect=function(t,e,o,s,i){return o<2*i&&(i=o/2),s<2*i&&(i=s/2),this.beginPath(),this.moveTo(t+i,e),this.arcTo(t+o,e,t+o,e+s,i),this.arcTo(t+o,e+s,t,e+s,i),this.arcTo(t,e+s,t,e,i),this.arcTo(t,e,t+o,e,i),this.closePath(),this},CanvasRenderingContext2D.prototype.drawCurve=function(t,e={}){t=structuredClone(t);const{closePath:o}=e;if(!t.length)return;let s,i;o&&(t[0]={x:(t[t.length-1].x+t[1].x)/2,y:(t[t.length-1].y+t[1].y)/2},t.push(t[0])),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(let e=0;e<t.length-1;e++)s=(t[e].x+t[e+1].x)/2,i=(t[e].y+t[e+1].y)/2,this.quadraticCurveTo(t[e].x,t[e].y,s,i);const n=t[t.length-1];return this.quadraticCurveTo(n.x,n.y,n.x,n.y),this.stroke(),this},CanvasRenderingContext2D.prototype.drawLineCurve=function(t){t=structuredClone(t),this.beginPath(),this.moveTo(t[0].x,t[0].y);let e=0,o=0,s=0,i=0;for(let l=1;l<t.length;l++){const r=t[l-1],h=t[l],d=t[l+1];d&&(s=-.3*(d.x-h.x),i=s*(n=r,((a=d).y-n.y)/(a.x-n.x))*.9),this.bezierCurveTo(r.x-e,r.y-o,h.x+s,h.y+i,h.x,h.y),e=s,o=i}var n,a;return this.stroke(),this};const R=(t,e)=>{for(var o in e)try{e[o].constructor==Object?t[o]=R(t[o],e[o]):t[o]=e[o]}catch(s){t[o]=e[o]}return t},I=()=>{for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},W=(t,e,o,s)=>({x:t+Math.cos(s)*o,y:e+Math.sin(s)*o}),C=(t,e)=>(e=parseInt(e),"#"+t.replace(/^#/,"").replace(/../g,(t=>("0"+Math.min(255,Math.max(0,parseInt(t,16)+e)).toString(16)).substr(-2)))),k=({x:t,y:e,polygon:o})=>{for(var s=!1,i=0,n=o.length-1;i<o.length;n=i++){var a=o[i].x,l=o[i].y,r=o[n].x,h=o[n].y;l>e!=h>e&&t<(r-a)*(e-l)/(h-l)+a&&(s=!s)}return s},L=1.286,H={animated:!0,view:{styles:{background:"#202020"}},data:{hover:{enabled:!0}},tooltip:{enabled:!0,styles:{color:"#ffffff",background:"#403f4c",borderColor:"#fff",borderWidth:0,borderRadius:3,fontSize:12,padding:{top:10,right:10,bottom:10,left:10}}}};var A,j;!function(t){t.UNKNOWN="UNKNOWN",t.COMBO="COMBO",t.PIE="PIE",t.DONUT="DONUT",t.RADAR="RADAR"}(A||(A={})),function(t){t.LOADING="LOADING",t.INIT="INIT",t.HOVER="HOVER",t.SET_SETTINGS="SET_SETTINGS",t.SET_DATA="SET_DATA",t.RESIZE="RESIZE",t.MOUSEMOVE="MOUSEMOVE",t.MOUSEOUT="MOUSEOUT"}(j||(j={}));class N{constructor(t){this.settings=R(structuredClone(H),t.settings||{}),this.type=t.type||A.UNKNOWN,this.canvas={element:t.element,context:t.element.getContext("2d"),valid:t.element instanceof Element&&"canvas"===t.element.tagName.toLowerCase()},this.cursor={x:0,y:0},this.state={loading:this.settings.animated?0:1},this.data=this.prepareData(t.data),this.init()}prepareData(t){return t}setSettings(t={}){R(this.settings,t),this.render({by:j.SET_SETTINGS})}getSettings(){return this.settings}setData(t){this.data=this.prepareData(t),this.render({by:j.SET_DATA})}getData(){return this.data}ratio(){const t=this.canvas,e=window.devicePixelRatio||1;t.element.width=t.element.clientWidth*e,t.element.height=t.element.clientHeight*e,t.context.scale(e,e)}clear(){const t=this.canvas;t.context.clearRect(0,0,t.element.width,t.element.height)}loading(){this.state.loading>=1||setTimeout((()=>{this.state.loading+=.03,this.state.loading=this.state.loading>1?1:this.state.loading,this.render({by:j.LOADING}),this.loading()}),1e3/60)}listeners(){const t=this.canvas;window.addEventListener("resize",(()=>{this.render({by:j.RESIZE})})),t.element.addEventListener("mousemove",(e=>{const o=t.element.getBoundingClientRect(),s=e.clientX-o.left,i=e.clientY-o.top;this.cursor={x:s,y:i},this.render({by:j.MOUSEMOVE})})),t.element.addEventListener("mouseout",(()=>{this.cursor={x:0,y:0},this.render({by:j.MOUSEOUT})}))}init(){this.render({by:j.INIT}),this.loading(),this.listeners()}tooltip(t={}){var e,o;const s=this.canvas,i=this.getSettings(),n=this.cursor;if(!(null===(e=null==i?void 0:i.tooltip)||void 0===e?void 0:e.enabled))return;const a=t.x||n.x,l=t.y||n.y;s.context.font="100 "+i.tooltip.styles.fontSize+"px arial",s.context.textAlign="left",s.context.textAlign="left",s.context.textBaseline="middle";const{width:r,height:h}=(()=>{var e,o;t.title=Object.assign(Object.assign({},t.title),{width:0,height:0,x:0,y:0}),(null===(e=t.title)||void 0===e?void 0:e.value)&&(t.title.width=s.context.measureText(t.title.value).width+i.tooltip.styles.padding.left+i.tooltip.styles.padding.right+i.tooltip.styles.borderWidth,t.title.height=2*i.tooltip.styles.padding.top+i.tooltip.styles.fontSize*L+i.tooltip.styles.borderWidth/2,t.title.x=i.tooltip.styles.padding.left+i.tooltip.styles.borderWidth/2,t.title.y=t.title.height/2+i.tooltip.styles.borderWidth/2),null===(o=t.panels)||void 0===o||o.forEach(((e,o)=>{var n,a,l;if((null===(n=(e=Object.assign(Object.assign({},e),{width:0,height:0,x:(()=>{let e=0;for(let s=o-1;s>=0;s--)e+=t.panels[s].width;return e})(),y:t.title.height})).colorPanel)||void 0===n?void 0:n.color)&&(e.colorPanel.height=3,e.colorPanel.x=i.tooltip.styles.borderWidth/2,e.colorPanel.y=0,e.height+=e.colorPanel.height),null===(a=e.texts)||void 0===a||a.forEach(((t,o)=>{if(!(null==t?void 0:t.value))return;let n=s.context.measureText(t.value).width+i.tooltip.styles.borderWidth;e.width<n&&(e.width=n),t.height=i.tooltip.styles.fontSize*L,t.x=i.tooltip.styles.padding.left+i.tooltip.styles.borderWidth/2,t.y=e.height+t.height/2,o||(t.height+=i.tooltip.styles.padding.top,t.y+=i.tooltip.styles.padding.top),o===e.texts.length-1&&(t.height+=i.tooltip.styles.padding.bottom),e.height+=t.height})),null===(l=e.footer)||void 0===l?void 0:l.text){let t=s.context.measureText(e.footer.text).width+i.tooltip.styles.borderWidth;e.width<t&&(e.width=t),e.footer.height=i.tooltip.styles.padding.bottom+i.tooltip.styles.fontSize*L,e.footer.x=i.tooltip.styles.padding.left+i.tooltip.styles.borderWidth/2,e.footer.y=e.height+e.footer.height/2-i.tooltip.styles.padding.bottom/2,e.height+=e.footer.height+i.tooltip.styles.borderWidth/2}e.width+=i.tooltip.styles.padding.left+i.tooltip.styles.padding.right,t.panels[o]=e}));const n=t.panels.reduce(((t,e)=>t+e.width),0);if(t.title.width>n){const e=t.title.width/t.panels.length;let o=0,s=0;for(let i=0;i<=t.panels.length-1;i++)t.panels[i].width>=e?s+=t.panels[i].width-e:o++;for(let i=0;i<=t.panels.length-1;i++)t.panels[i].width=t.panels[i].width<e?e-s/o:t.panels[i].width,t.panels[i].x=(()=>{let e=0;for(let o=i-1;o>=0;o--)e+=t.panels[o].width;return e})()}return{width:Math.max(t.title.width,n),height:t.title.height+Math.max(...(t.panels||[]).map((t=>t.height)))}})(),d=a;let c=a-r/2,f=l-h-10,g=!1;f<i.tooltip.styles.borderWidth&&(g=!0,f=l+10),c+r+i.tooltip.styles.borderWidth/2>s.element.clientWidth&&(c=s.element.clientWidth-r-i.tooltip.styles.borderWidth/2),c<i.tooltip.styles.borderWidth/2&&(c=i.tooltip.styles.borderWidth/2),s.context.fillStyle=i.tooltip.styles.background,s.context.strokeStyle=i.tooltip.styles.borderWidth>0?i.tooltip.styles.borderColor:"transparent",s.context.lineWidth=i.tooltip.styles.borderWidth,s.context.beginPath(),s.context.roundRect(c,f,r,h,i.tooltip.styles.borderRadius),s.context.closePath(),s.context.fill(),s.context.stroke(),g?(s.context.beginPath(),s.context.moveTo(d-5,f),s.context.lineTo(d,f-5),s.context.lineTo(d+5,f),s.context.fill(),s.context.stroke(),s.context.beginPath(),s.context.moveTo(d-5+i.tooltip.styles.borderWidth/4,f+i.tooltip.styles.borderWidth/2),s.context.lineTo(d,f-5+i.tooltip.styles.borderWidth/1.5),s.context.lineTo(d+5-i.tooltip.styles.borderWidth/4,f+i.tooltip.styles.borderWidth/2),s.context.fill()):(s.context.beginPath(),s.context.moveTo(d-5,f+h),s.context.lineTo(d,f+h+5),s.context.lineTo(d+5,f+h),s.context.fill(),s.context.stroke(),s.context.beginPath(),s.context.moveTo(d-5+i.tooltip.styles.borderWidth/4,f+h-i.tooltip.styles.borderWidth/2),s.context.lineTo(d,f+h+5-i.tooltip.styles.borderWidth/1.5),s.context.lineTo(d+5-i.tooltip.styles.borderWidth/4,f+h-i.tooltip.styles.borderWidth/2),s.context.fill()),s.context.fillStyle=i.tooltip.styles.color,(null===(o=t.title)||void 0===o?void 0:o.value)&&s.context.fillText(t.title.value,c+t.title.x,f+t.title.y),t.panels.forEach((t=>{s.context.fillStyle=i.tooltip.styles.color,t.colorPanel&&t.colorPanel.color&&(s.context.save(),s.context.fillStyle=t.colorPanel.color,s.context.beginPath(),s.context.rect(c+t.x+t.colorPanel.x,f+t.y+t.colorPanel.y,t.width-i.tooltip.styles.borderWidth,t.colorPanel.height),s.context.fill(),s.context.restore()),t.texts&&t.texts.forEach((e=>{e.value&&s.context.fillText(e.value,c+t.x+e.x,f+t.y+e.y)})),t.footer&&t.footer.text&&(s.context.fillStyle=C(i.tooltip.styles.color,-50),s.context.fillText(t.footer.text,c+t.x+t.footer.x,f+t.y+t.footer.y))}))}background(){const t=this.canvas,e=this.getSettings();t.context.fillStyle=e.view.styles.background,t.context.fillRect(0,0,t.element.width,t.element.height)}hover({item:t,isHovered:e}){var o,s;const i=this.getSettings();(null===(s=null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.hover)||void 0===s?void 0:s.enabled)&&(e?(t.hasOwnProperty("state")||(t.state=0),i.animated?t.state<1&&(t.state+=.05,t.state>1&&(t.state=1),this.render({by:j.HOVER})):(t.state=1,this.render({by:j.HOVER}))):i.animated?t.state>0&&(t.state-=.05,t.state<0&&(t.state=0),this.render({by:j.HOVER})):(t.state=0,this.render({by:j.HOVER})))}baseRender(t){this.ratio(),this.clear(),this.background()}render(t){this.baseRender(t)}}const U={offset:{top:20,right:20,bottom:40,left:60},grid:{enabled:!0,offset:{top:20,right:20,bottom:20,left:20},styles:{background:"",borderColor:"#2b2a49",borderRadius:0,borderWidth:2},horizontal:{step:3,enabled:!0},vertical:{step:4,enabled:!0}},labels:{enabled:!0,styles:{color:"#fff",fontSize:12}},values:{enabled:!0,digits:2,count:10,styles:{color:"#fff",fontSize:12}},data:{enabled:!0,offset:0,digits:2,line:{offset:{left:0,top:0,right:0,bottom:0},dots:{enabled:!0,width:5,hover:{enabled:!0,width:3}},styles:{lineWidth:2}},bar:{offset:10,hover:{enabled:!0,value:50}}}};class z extends N{constructor(t){super(Object.assign(Object.assign({},t),{type:A.COMBO,settings:R(structuredClone(U),t.settings||{})})),this.getData=()=>this.data,this.draw={bar:t=>{const e=this.canvas,o=this.getSettings(),s=this.getRect("bar"),i=this.getRect("view"),n=s.left,a=s.width/t.values.length;o.data.line.offset.left=o.data.line.offset.right=a/2,t.values.forEach(((l,r)=>{var h,d;l.first=!r,l.last=r===t.values.length-1,e.context.beginPath();const c=C(t.color,(null===(d=null===(h=o.data.bar)||void 0===h?void 0:h.hover)||void 0===d?void 0:d.enabled)?o.data.bar.hover.value*l.state:1);e.context.strokeStyle=c,e.context.fillStyle=c;const f=a/t.sameCount-o.data.bar.offset/t.sameCount,g=n+o.data.bar.offset/2+a*r+f*t.index,u=g,p=g+f,x=this.getInterpolation(l.value,this.getValues()),v=this.getInterpolation(0,this.getValues());l.area={xStart:l.first?i.left:n+a*r,yStart:s.top,xEnd:l.last?e.element.clientWidth-i.right:n+a*r+f*t.sameCount+o.data.bar.offset,yEnd:s.top+s.height},this.checkIsHovered(l),e.context.moveTo(u,v),e.context.lineTo(u,x),e.context.lineTo(p,x),e.context.lineTo(p,v),e.context.fill()}))},line:t=>{var e,o;const s=this.canvas,i=this.getSettings(),n=this.getRect("line"),a=this.getRect("view"),l=n.left,r=n.width/(1===t.values.length?1:t.values.length-1);t.values.forEach(((e,o)=>{let i=l+r*o,h=this.getInterpolation(e.value,this.getValues());e.x=i,e.y=h,e.first=!o,e.last=o===t.values.length-1,e.area={xStart:e.first?a.left:i-r/2,yStart:n.top,xEnd:e.last?s.element.clientWidth-a.right:i+r/2,yEnd:n.top+n.height},this.checkIsHovered(e)})),"line"===t.type&&(s.context.strokeStyle=t.color,s.context.lineWidth=i.data.line.styles.lineWidth,s.context.lineJoin="round",t.smooth?s.context.drawLineCurve(t.values.map((t=>({x:t.x,y:t.y})))):(s.context.beginPath(),t.values.forEach(((t,e)=>{e?s.context.lineTo(t.x,t.y):s.context.moveTo(t.x,t.y)})),s.context.stroke())),("dot"===t.type||(null===(o=null===(e=i.data.line)||void 0===e?void 0:e.dots)||void 0===o?void 0:o.enabled))&&(s.context.fillStyle=t.color,s.context.strokeStyle=C(t.color,-50),t.values.forEach(((t,e)=>{s.context.beginPath(),s.context.arc(t.x,t.y,i.data.line.dots.width+(i.data.line.dots.hover.enabled?i.data.line.dots.hover.width*t.state:0),0,2*Math.PI),s.context.fill(),s.context.closePath(),s.context.stroke()})))},dot:t=>this.draw.line(t)},this.render=t=>{this.renderTimeout&&clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout((()=>{super.baseRender(t),this.grid(),this.labels(),this.datasets(),this.values(),this.tooltip()}),5)}}prepareData(t){const e=Math.max(...t.datasets.map((t=>(t.values||[]).length)));if(t.datasets.filter((t=>"bar"===t.type)).length){this.settings.data.initialValue=0;const t=this.getRect("bar").width/e;this.settings.data.line.offset.left=t/2,this.settings.data.line.offset.right=t/2}return{labels:t.labels.map((t=>({value:t}))),datasets:t.datasets.map(((o,s)=>{const i=(t=>{if(!t)return null;let e=t;if(4===e.length&&"#"===e[0]){e="#";for(let o=1;o<=t.length-1;o++)e+=t[o]+t[o]}return e})(o.color)||I(),n=t.datasets.filter((t=>t.type===o.type)).length;return Object.assign(Object.assign({},o),{color:i,sameCount:n,index:s,values:[...o.values,...new Array(e>o.values.length?e-o.values.length:0).fill(0)].map(((t,e)=>({name:o.name,index:e,color:i,value:t,state:0})))})}))}}grid(){var t,e;const o=this.canvas,s=this.getSettings();if(!s.grid.enabled)return;o.context.save();const i=0+s.offset.left,n=o.element.clientWidth-s.offset.right-s.offset.left,a=0+s.offset.top,l=o.element.clientHeight-s.offset.bottom-s.offset.top;if(o.context.lineWidth=s.grid.styles.borderWidth,o.context.strokeStyle=s.grid.styles.borderColor,o.context.fillStyle=s.grid.styles.background,s.grid.styles.dash&&o.context.setLineDash(s.grid.styles.dash),o.context.beginPath(),o.context.roundRect(i,a,n,l,s.grid.styles.borderRadius),o.context.fill(),o.context.closePath(),o.context.stroke(),o.context.restore(),null===(t=s.grid.horizontal)||void 0===t?void 0:t.enabled){o.context.save();const t=[],e=(o.element.clientHeight-s.offset.top-s.offset.bottom)/(s.grid.horizontal.step+1),i=(o.element.clientHeight-s.offset.top-s.offset.bottom)/s.grid.horizontal.step,n=s.offset.top,a=Object.assign(Object.assign({},s.grid.styles),s.grid.horizontal.styles||{});if("px"===(s.grid.horizontal.type||s.grid.type))for(let e=1;e<i;e++){let o=n+e*s.grid.horizontal.step;t.push(o)}else for(let o=1;o<s.grid.horizontal.step+1;o++){let s=n+o*e;t.push(s)}o.context.lineWidth=a.borderWidth,o.context.strokeStyle=a.borderColor,a.dash&&o.context.setLineDash(a.dash);for(let e=0;e<=t.length-1;e++)o.context.beginPath(),o.context.lineTo(0+s.offset.left,t[e]),o.context.lineTo(o.element.clientWidth-s.offset.right,t[e]),o.context.stroke();o.context.restore()}if(null===(e=s.grid.vertical)||void 0===e?void 0:e.enabled){o.context.save();const t=[],e=(o.element.clientWidth-s.offset.right-s.offset.left)/(s.grid.vertical.step+1),i=(o.element.clientWidth-s.offset.right-s.offset.left)/s.grid.vertical.step,n=s.offset.left,a=Object.assign(Object.assign({},s.grid.styles),s.grid.vertical.styles||{});if("px"===(s.grid.vertical.type||s.grid.type))for(let e=1;e<i;e++){let o=n+e*s.grid.vertical.step;t.push(o)}else for(let o=1;o<s.grid.vertical.step+1;o++){let s=n+o*e;t.push(s)}o.context.lineWidth=a.borderWidth,o.context.strokeStyle=a.borderColor,a.dash&&o.context.setLineDash(a.dash);for(let e=0;e<=t.length-1;e++)o.context.beginPath(),o.context.lineTo(t[e],0+s.offset.top),o.context.lineTo(t[e],o.element.clientHeight-s.offset.bottom),o.context.stroke();o.context.restore()}o.context.restore()}labels(){var t;const e=this.canvas,o=this.getData(),s=this.getSettings(),i=o.labels.length;if(!(null===(t=s.labels)||void 0===t?void 0:t.enabled)||!i)return;const n=this.getRect("line"),a=this.getRect("view"),l=n.width/(i-1),r=n.left,h=e.element.clientHeight-s.offset.bottom/2;o.labels.forEach(((t,o)=>{const n=r+l*o;e.context.font="100 "+s.labels.styles.fontSize+"px arial",e.context.fillStyle=s.labels.styles.color,e.context.textAlign="center",e.context.textBaseline="middle",o?o===i-1?(t.xStart=n-l/2,t.xEnd=a.width+a.left):(t.xStart=n-l/2,t.xEnd=n+l/2):(t.xStart=a.left,t.xEnd=n+l/2),e.context.fillText(t.value,n,h)}))}values(){var t;const e=this.canvas,o=this.getSettings();if(!(null===(t=o.values)||void 0===t?void 0:t.enabled))return;const s=o.offset.left/2,i=this.getValues(),n=Math.max(...i),a=Math.min(...i);e.context.font="100 "+o.values.styles.fontSize+"px arial",e.context.fillStyle=o.values.styles.color,e.context.textAlign="center",e.context.textBaseline="middle";const l=[],r=(n-a)/(o.values.count-1);for(let t=0;t<=o.values.count-1;t++){const e=n-r*t;l.push({value:0===t?n:t===o.values.count-1?a:e,x:s,y:this.getInterpolation(e,i)})}l.forEach((t=>{e.context.fillText(t.value.toFixed(o.values.digits),t.x,t.y)}))}getInterpolation(t,e){const o=this.canvas,s=this.getSettings(),i=Math.max(...e),n=Math.min(...e),a=s.offset.top+s.grid.offset.top+s.grid.styles.borderWidth,l=100*(t*this.state.loading-n*(n>0?this.state.loading:1))/(i-n)/100,r=o.element.clientHeight-s.offset.top-s.grid.offset.top-s.offset.bottom-s.grid.offset.bottom-2*s.grid.styles.borderWidth;return a+r-r*l}getValues(){const t=this.getData(),e=this.getSettings(),o=[];return(e.data.initialValue||0===e.data.initialValue)&&o.push(e.data.initialValue),t.datasets.reduce(((t,e)=>[...t,...e.values.map((t=>t.value))]),o)}datasets(){const t=this.getData();this.getSettings().data.enabled&&t.datasets.forEach((t=>{var e,o;null===(o=null===(e=this.draw)||void 0===e?void 0:e[t.type])||void 0===o||o.call(e,t)}))}getRect(t){const e=this.canvas,o=this.getSettings(),{offset:s,grid:i,data:n}=o,{element:a}=e,l={top:s.top+i.styles.borderWidth,left:s.left+i.styles.borderWidth,right:s.right+i.styles.borderWidth,bottom:s.bottom-i.styles.borderWidth,width:a.clientWidth-s.left-s.right-2*i.styles.borderWidth,height:a.clientHeight-s.top-s.bottom-2*i.styles.borderWidth},r={top:l.top+i.offset.top,left:l.left+i.offset.left,right:l.right+i.offset.right,bottom:l.bottom-i.offset.bottom,width:l.width-i.offset.left-i.offset.right,height:l.height-i.offset.top-i.offset.bottom},h={view:l,grid:r,bar:r,line:Object.assign(Object.assign({},r),{left:r.left+n.line.offset.left,right:r.right+n.line.offset.right,width:r.width-n.line.offset.left-n.line.offset.right})};return t&&h[t]?h[t]:h}checkIsHovered(t){const e=this.cursor;return t.hovered=e.x>=t.area.xStart&&e.x<t.area.xEnd&&e.y>=t.area.yStart&&e.y<t.area.yEnd,super.hover({item:t,isHovered:t.hovered}),t.hovered}tooltip(){const t=this.getSettings(),e=this.getData(),o=e.datasets.reduce(((t,e)=>[...t,...e.values.filter((t=>t.hovered))]),[]);if(!o.length)return;const s=o[o.length-1].index,i=e.labels[s];super.tooltip({title:{value:(null==i?void 0:i.value)||""},panels:o.map((e=>({colorPanel:{color:e.color},texts:[{value:"Value: "+e.value.toFixed(t.data.digits)}],footer:{text:e.name}})))})}}const V={offset:{top:30,right:30,bottom:30,left:30},data:{volumed:!0,hover:{value:20},styles:{width:80,color:"#fff"}},texts:{center:{enabled:!1,value:"100%",styles:{color:"#ffffff",fontSize:30}},slicePercent:{enabled:!1,styles:{color:"#ffffff",fontSize:10}}}};class F extends N{constructor(t){super(Object.assign(Object.assign({},t),{settings:R(structuredClone(V),t.settings||{})})),this.getData=()=>this.data,this.generatePolygon=({count:t=20,x:e,y:o,radius:s,sliceWidth:i,startPi:n,endPi:a})=>{const l=[];let r=(a-n)/t;r=isFinite(r)?r:0;for(let a=0;a<=t;a++)l.push(W(e,o,s+i/2,n+r*a));for(let n=0;n<=t;n++)l.push(W(e,o,s-i/2,a-r*n));return l},this.tooltip=()=>{const t=this.data.find((t=>t.hovered));t&&super.tooltip({title:{value:t.label},panels:[{colorPanel:{color:t.color},texts:[{value:"Value: "+t.value},{value:"Percent: "+t.percent.toFixed(2)+"%"}],footer:{text:"Total: "+t.total}}]})},this.render=t=>{this.renderTimeout&&clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout((()=>{super.baseRender(t),this.slices(),this.tooltip()}),5)}}prepareData(t=[]){const e=(t=t.filter((t=>t.value>0))).reduce(((t,e)=>t+(parseFloat(String(e.value))||0)),0);return t.map((t=>Object.assign(Object.assign({},t),{percent:100/e*t.value,total:e,color:t.color||I()})))}slices(){const t=this.canvas,e=this.getSettings(),o=this.getData(),s=this.cursor,i=this.type,n=this.state,a=Math.min(t.element.clientHeight-e.offset.top-e.offset.bottom-(i===A.DONUT?e.data.styles.width:0),t.element.clientWidth-e.offset.left-e.offset.right-(i===A.DONUT?e.data.styles.width:0))*n.loading;let l=0,r=0;const h=t.element.clientWidth/2+e.offset.left-e.offset.right,d=t.element.clientHeight/2+e.offset.top-e.offset.bottom;let c=-Math.PI/2;i===A.PIE&&(l=a/2,r=a/4),i===A.DONUT&&(l=e.data.styles.width>=a?a:e.data.styles.width,r=a/2),o.forEach((o=>{const a=c,f=2*Math.PI*n.loading*o.percent/100+c,g=e.data.hover.value*(o.state||0);o.startPi=a,o.endPi=f,c=f;const u=this.generatePolygon({x:h,y:d,radius:r+g/2,sliceWidth:l+g,startPi:a,endPi:f}),p=k({x:s.x,y:s.y,polygon:u});o.polygon=u,o.hovered=p,super.hover({item:o,isHovered:o.hovered});const x=[];if(x.push({radius:r+g/2,width:l+g,color:C(o.color,g),x:h,y:d,startPi:a,endPi:f}),e.data.volumed){let t=0,e=0;i===A.DONUT&&(t=r-l/4+g/2,e=l/2+g),i===A.PIE&&(t=r-l/6+g/2,e=2*t),x.push({radius:t,width:e,color:C(o.color,-50+g),x:h,y:d,startPi:a,endPi:f})}x.forEach((e=>{t.context.save(),t.context.beginPath(),t.context.strokeStyle=e.color,t.context.lineWidth=e.width,t.context.fillStyle="transparent",t.context.arc(e.x,e.y,e.radius>0?e.radius:0,e.startPi,e.endPi),t.context.fill(),t.context.stroke(),t.context.restore()}))})),e.texts.slicePercent.enabled&&o.forEach((o=>{t.context.font="100 "+e.texts.slicePercent.styles.fontSize+"px arial",t.context.textAlign="center",t.context.textBaseline="middle",t.context.fillStyle=e.texts.slicePercent.styles.color;let s=r;const n=e.data.hover.value*(o.state||0);i===A.DONUT&&(s+=e.data.volumed?l/4+n:n/2),i===A.PIE&&(s+=e.data.volumed?l/3+n:n/2);const a=parseFloat(o.percent.toFixed(2))+"%",c=W(h,d,s,(o.startPi+o.endPi)/2);t.context.fillText(a,c.x,c.y)})),e.texts.center.enabled&&(t.context.font="800 "+e.texts.center.styles.fontSize*n.loading+"px arial",t.context.textAlign="center",t.context.textBaseline="middle",t.context.fillStyle=e.texts.center.styles.color,t.context.fillText(e.texts.center.value,h,d))}}class q extends F{constructor(t){super(Object.assign({type:A.DONUT},t))}}class B extends F{constructor(t){super(Object.assign({type:A.PIE},t))}}const _={offset:{top:40,right:40,bottom:40,left:40},scheme:{count:4,styles:{width:2,color:"#2b2a49"}},labels:{enabled:!0,offset:15,styles:{fontSize:14,color:"#ffffff"}},data:{line:{styles:{width:2}},dots:{enabled:!0,styles:{width:3,hover:{width:5}}}}};class Y extends N{constructor(t){super(Object.assign(Object.assign({},t),{type:A.RADAR,settings:R(structuredClone(_),t.settings||{})})),this.getData=()=>this.data,this.tooltip=()=>{const t=this.getData(),e=t.datasets.reduce(((t,e)=>[...t,...e.values]),[]),o=t.labels,s=e.filter((t=>t.hovered));s.length&&super.tooltip({title:{value:o[s[0].index]},panels:s.map((t=>({colorPanel:{color:this.data.datasets[t.dataset].color},texts:[{value:"Value: "+t.value}],footer:{text:this.data.datasets[t.dataset].name}})))})},this.render=t=>{this.renderTimeout&&clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout((()=>{super.baseRender(t),this.scheme(),this.labels(),this.datasets(),this.tooltip()}),5)}}prepareData(t){return{labels:t.labels||[],datasets:t.datasets.reduce(((e,o,s)=>{const i=Object.assign(Object.assign({},o),{color:o.color||I(),values:o.values||[]});if(i.values.length>t.labels.length&&(i.values.length=t.labels.length),i.values.length<t.labels.length)for(let e=i.values.length;e<t.labels.length;e++)i.values.push(0);return e.push(Object.assign(Object.assign({},i),{values:o.values.map(((t,e)=>({value:t,dataset:s,index:e})))})),e}),[])}}getCoords(){const t=this.canvas,e=this.getSettings(),o=this.getData(),s=Math.min(t.element.clientHeight-e.offset.top-e.offset.bottom,t.element.clientWidth-e.offset.left-e.offset.right);return{width:s,widthHalf:s/2,x:t.element.clientWidth/2+e.offset.left-e.offset.right,y:t.element.clientHeight/2+e.offset.top-e.offset.bottom,piStart:-Math.PI/2,piPart:2*Math.PI/o.labels.length}}scheme(){const t=this.canvas,e=this.getSettings(),o=this.getData(),s=this.getCoords();for(let i=0;i<=o.labels.length-1;i++){let o=W(s.x,s.y,s.widthHalf,s.piStart+s.piPart*i);t.context.strokeStyle=e.scheme.styles.color,t.context.lineWidth=e.scheme.styles.width,t.context.beginPath(),t.context.moveTo(s.x,s.y),t.context.lineTo(o.x,o.y),t.context.fill(),t.context.stroke();for(let o=0;o<=e.scheme.count;o++){const n=s.widthHalf/e.scheme.count,a=W(s.x,s.y,s.widthHalf-n*o,s.piStart+s.piPart*i),l=W(s.x,s.y,s.widthHalf-n*o,s.piStart+s.piPart*(i-1));t.context.beginPath(),t.context.moveTo(a.x,a.y),t.context.lineTo(l.x,l.y),t.context.fill(),t.context.stroke()}}}labels(){const t=this.canvas,e=this.getSettings(),o=this.getData(),s=this.state,i=this.getCoords();for(let n=0;n<=o.labels.length-1;n++)if(e.labels.enabled){t.context.save();const a=W(i.x,i.y,i.widthHalf+e.labels.offset,i.piStart+i.piPart*n),l=o.labels[n]||"";t.context.globalAlpha=1*s.loading,t.context.font="100 "+e.labels.styles.fontSize*s.loading+"px arial",t.context.textAlign="center",a.x>i.x&&(t.context.textAlign="left"),a.x<i.x&&(t.context.textAlign="right"),t.context.textBaseline="middle",t.context.fillStyle=e.labels.styles.color,t.context.fillText(l,a.x,a.y),t.context.restore()}}datasets(){const t=this.canvas,e=this.getSettings(),o=this.getData(),s=this.cursor,i=this.state,n=this.getCoords(),a=o.datasets.reduce(((t,e)=>[...t,...e.values]),[]).map((t=>t.value)),l=Math.max(...a);for(let a=0;a<=o.datasets.length-1;a++){const r=o.datasets[a];t.context.strokeStyle=r.color,t.context.fillStyle=r.color,t.context.lineWidth=e.data.line.styles.width,t.context.beginPath();for(let e=0;e<=r.values.length-1;e++){const o=r.values[e],s=o.value/l,a=W(n.x,n.y,n.widthHalf*s*i.loading,n.piStart+n.piPart*e);o.coords=a,0===e?t.context.moveTo(a.x,a.y):t.context.lineTo(a.x,a.y)}t.context.globalAlpha=.5,t.context.fill(),t.context.globalAlpha=1,t.context.closePath(),t.context.stroke();for(let o=0;o<=r.values.length-1;o++){const a=r.values[o],h=a.value/l,d=W(n.x,n.y,n.widthHalf*h*i.loading,n.piStart+n.piPart*o),c=[{x:n.x,y:n.y},W(n.x,n.y,n.widthHalf,n.piStart+n.piPart*o-n.piPart/2),W(n.x,n.y,n.widthHalf,n.piStart+n.piPart*o),W(n.x,n.y,n.widthHalf,n.piStart+n.piPart*o+n.piPart/2)];if(a.hovered=k({polygon:c,x:s.x,y:s.y}),super.hover({item:a,isHovered:a.hovered}),e.data.dots.enabled){let o=e.data.dots.styles.width*i.loading;a.hasOwnProperty("state")&&(o+=(e.data.dots.styles.hover.width-e.data.dots.styles.width)*a.state),t.context.beginPath(),t.context.arc(d.x,d.y,o,0,2*Math.PI),t.context.fill(),t.context.closePath(),t.context.stroke()}}}}}const G=class{constructor(){this.events={},this.publish=(t,...e)=>{this.events[t]&&this.events[t].forEach((t=>t(...e)))},this.on=(t,e)=>{this.events[t]||(this.events[t]=[]),this.events[t].push(e)},this.off=(t,e)=>{this.events[t]&&(this.events[t]=this.events[t].filter((t=>e!==t)))}}},X=t=>{const{data:e,url:o="",method:s="GET",additionalHeaders:i={},additionalOptions:n={},responseParse:a=!0,baseUrl:l=window.location.origin,catcher:r,mock:h}=t;if(null==h?void 0:h.data)return new Promise((t=>{setTimeout((()=>{t(h.data)}),(null==h?void 0:h.delay)||1e3)}));const d=t.dataToQuery||"GET"===s,c=Object.assign({"Content-Type":"application/json"},i),f=(t,e)=>{(null==t?void 0:t.json)&&a?t.json().then(e).catch((()=>e({}))):e(t)};return new Promise(((t,i)=>{const a=new URL(`${l}${o}`),h=Object.assign({method:s,headers:c},n);e&&(d?Object.keys(e).forEach((t=>a.searchParams.append(t,e[t]))):h.body=JSON.stringify(e)),fetch(a.toString(),h).then((e=>{if(!e.ok)throw e;f(e,t)})).catch((t=>{f(t,(t=>{r&&r(t),i(t)}))}))}))},$=function(t,e){this.getItems=function(t){return t instanceof NodeList?t:t instanceof Node?[t]:document.querySelectorAll(t)},this.items=this.getItems(t),this.in=!!e.in&&e.in,this.out=!!e.out&&e.out,this.activeList=!!e.activeList&&e.activeList,this.scrollTop=0,this.offset=e.offset?e.offset:0,this.dynamicDom=!!e.dynamicDom&&e.dynamicDom,this.intervalChecking=!!e.intervalChecking&&e.intervalChecking,this.setScrollTop=function(t){this.scrollTop=t},this.checkItem=function(t){let e=t.getBoundingClientRect(),o=parseFloat(this.offset)||0,s=parseFloat(this.offset)||0,i=window.innerHeight;return window.getComputedStyle(t),this.offset&&this.offset.top&&parseFloat(this.offset.top)&&(o=parseFloat(this.offset.top)),this.offset&&this.offset.bottom&&parseFloat(this.offset.bottom)&&(s=parseFloat(this.offset.bottom)),e.top-o+e.height>=0&&e.top+s+i<=2*i?{bool:!0}:e.top+s+i>2*i?{bool:!1,direction:"bottom"}:e.top-o+e.height<0?{bool:!1,direction:"top"}:void 0},this.checkItems=function(){if(this.items=this.dynamicDom?this.getItems(t):this.items,!this.items)return!1;let e=[];this.items.forEach(((t,o)=>{let s=this.checkItem(t);s.bool&&this.in&&this.in(t),s.bool&&this.activeList&&e.push(t),!s.bool&&this.out&&this.out(t,s.direction)})),this.activeList&&this.activeList(e)},this.watch=function(){new MutationObserver((function(t){t.forEach((function(t){console.log(t)}))})).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.setScrollTop(window.pageYOffset),this.checkItems(),this.intervalChecking&&setInterval((()=>{this.setScrollTop(window.pageYOffset),this.checkItems()}),this.intervalChecking),window.addEventListener("scroll",(()=>{this.setScrollTop(window.pageYOffset),this.checkItems()})),window.addEventListener("resize",(()=>{this.setScrollTop(window.pageYOffset),this.checkItems()}))},this.watch()},K=function(t){return this.options=t,this.options.container=this.options.container?this.options.container:"#app",this.options.navItems=this.options.navItems?this.options.navItems:".ajax",this.options.preloader=!!this.options.preloader,this.beforeInit=!!this.options.beforeInit&&this.options.beforeInit,this.afterInit=!!this.options.afterInit&&this.options.afterInit,this.beforeRendered=!!this.options.beforeRendered&&this.options.beforeRendered,this.afterRendered=!!this.options.afterRendered&&this.options.afterRendered,this.app=document.querySelector(this.options.container),this.isLoadProcess=!1,this.exact=!!this.options.exact,this.get=function(t,e,o,s,i){var n,a,l=new XMLHttpRequest,r="";for(a in o)r+=encodeURIComponent(a)+"="+encodeURIComponent(o[a])+"&";"GET"===e&&r&&(t=t+"?"+r),l.open(e,t,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),"GET"===e&&l.setRequestHeader("X-REQUESTED-WITH","XMLHttpRequest"),l.send(r),l.onreadystatechange=function(){4==l.readyState&&(200!=l.status?i(l):(n=l.responseText,s(n)))}},this.createPreloader=function(){var t=document.createElement("div"),e=document.createElement("div");return t.classList.add("preloader"),e.classList.add("preloader-spinner"),t.appendChild(e),t},this.appendPreloader=function(){var t=this;this.preloader=this.createPreloader(),document.body.appendChild(this.preloader),setTimeout((function(){t.preloader.classList.add("preloader__visible")}),0)},this.removePreloader=function(){var t=this;t.preloader.classList.remove("preloader__visible"),setTimeout((function(){t.preloader.parentNode.removeChild(t.preloader)}),400)},this.loadStart=function(){this.isLoadProcess=!0,this.options.preloader&&this.appendPreloader()},this.loadEnd=function(){this.isLoadProcess=!1,this.options.preloader&&this.removePreloader()},this.parseAndReplace=function(t,e,o){var s=this,i=(new DOMParser).parseFromString(t,"text/html"),n=document.querySelector(s.options.container),a=i.querySelector(s.options.container),l=i.head.querySelector("title").innerHTML,r=i.body.className;document.body.className=r,document.querySelector("head title").innerHTML=l,a&&n?(n.parentNode.replaceChild(a,n),o&&history.pushState(null,null,e),s.addLinksEvent(s.options.navItems),s.afterRendered&&s.afterRendered(a),s.loadEnd()):window.location=e},this.getContent=function(t,e){var o=this;o.beforeRendered&&o.beforeRendered(),o.exact&&this.href===location.href||o.isLoadProcess||(o.loadStart(),o.get(t,"POST",{},(function(s){o.parseAndReplace(s,t,e)}),(function(s){404===s.status?o.parseAndReplace(s.responseText,t,e):o.loadEnd(),0===s.status&&window.open(t)})))},this.addLinksEvent=function(t){for(var e=this,o=(t=t||this.options.navItems,document.querySelectorAll(t)),s=0;s<o.length;s++)o[s]instanceof Element&&"a"===o[s].tagName.toLowerCase()&&o[s].addEventListener("click",(function(t){t.preventDefault();var o=this.href;e.getContent(o,!0)}))},this.popStateListener=function(){var t=this;window.addEventListener("popstate",(function(e){t.getContent(location.pathname+location.search,!1)}))},this.goTo=function(t){this.getContent(t,!0)},this.init=function(){return this.loadStart(),window.addEventListener("load",(()=>{this.loadEnd()})),this.beforeInit&&this.beforeInit(),this.addLinksEvent(this.options.navItems),this.popStateListener(),this.afterRendered&&this.afterRendered(document.querySelector(this.options.container)),this.afterInit&&this.afterInit(),this},this.init()};module.exports=e})();
//# sourceMappingURL=bundle.js.map