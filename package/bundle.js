(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{AjaxNavigation:()=>f,Cookie:()=>i,DateTime:()=>h,Detection:()=>p,Dom:()=>o,Emitter:()=>m,Hash:()=>c,InView:()=>u,Map:()=>l,Money:()=>d,Random:()=>a,Request:()=>n,Storage:()=>r,Url:()=>s});const n=class{constructor(t={}){this.config={url:t.url||"",needAuthorization:!t.hasOwnProperty("needAuthorization")||t.needAuthorization,authorization:this.getAuthorization(),commonData:t.hasOwnProperty("commonData")?t.commonData:{},middlewares:t.middlewares||[],headers:t.hasOwnProperty("headers")?t.headers:{"Content-Type":"application/json"},clearResponse:!t.hasOwnProperty("clearResponse")||t.clearResponse}}request(t,e){let{commonData:n,headers:o,needAuthorization:i,url:r,middlewares:s=[],clearResponse:a}=this.config,h=this;return new Promise(((c,u)=>{e.start&&e.start();let l=new XMLHttpRequest,d=this.buildUrl(r,e.url),f=!e.async||e.async;e.responseType&&(l.responseType=e.responseType);let p,m=e.data||{};if(m={...n,...m},o={...o,...e.headers||{}},i&&(o.authorization=h.getAuthorization()),o["Content-Type"]||delete o["Content-Type"],!o["Content-Type"]){let t=new FormData;Object.keys(m).forEach((e=>{t.append(e,m[e])})),m=t}if("GET"===t&&Object.keys(m).length){d+=d.split("?")[1]?"&":"?";for(let t in m)d+=t+"="+m[t]+"&"}l.open(t,d,f),i&&(o.authorization=h.getAuthorization());for(let t in o)l.setRequestHeader(t,o[t]);"application/json"===o["Content-Type"]&&(m=JSON.stringify(m)),l.send(m),l.onreadystatechange=function(){if(this.readyState===this.HEADERS_RECEIVED){p=l.getAllResponseHeaders().trim().split(/[\r\n]+/);let t={};p.forEach((function(n){let o=n.split(": "),r=o.shift(),s=o.join(": ");t[r]=s,(e.hasOwnProperty("needAuthorization")?e.needAuthorization:i)&&"authorization"===r.toLowerCase()&&h.setAuthorization(s)})),p=t}if(4!==l.readyState)return;let t=a?l.response:l;try{t=JSON.parse(t)}catch(t){}if(e.end&&e.end(),s.length)for(let e=0;e<=s.length-1;e++)t=s[e](t);l.status<200||l.status>300?u(t):c(t)}}))}buildUrl(t="",e=""){return"/"===t[t.length-1]&&"/"===e[0]&&(t=t.slice(0,t.length-1)),t+e}getAuthorization(){return localStorage.getItem("authorization")||""}setAuthorization(t){localStorage.setItem("authorization",t)}removeAuthorization(){localStorage.removeItem("authorization")}logout(){this.removeAuthorization()}post(t){return this.request("POST",t)}get(t){return this.request("GET",t)}put(t){return this.request("PUT",t)}delete(t){return this.request("DELETE",t)}patch(t){return this.request("PATCH",t)}},o=function(){this.createElem=function(t,e,n,o){let i=document.createElement(t);for(let t in e)i.setAttribute(t,e[t]);return n&&(i.innerHTML=n),o&&(o instanceof Element&&i.appendChild(o),o instanceof Array&&o.forEach((function(t,e){t instanceof Element&&i.appendChild(t)}))),i},this.removeElem=function(t){Element.prototype.remove?t.remove():t.parentNode.removeChild(t)},this.getStyle=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,(function(t,e){return e.toUpperCase()})),n=t.currentStyle[e]),n}},i=function(){this.set=function(t,e,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()}document.cookie=t+"="+(e||"")+o+"; path=/"},this.get=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null},this.remove=function(t){document.cookie=t+"=; Max-Age=-1; path=/"},this.clear=function(){document.cookie.split(";").forEach((function(t){document.cookie=t.trim().split("=")[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 UTC;"}))}},r=function(){const t=window.localStorage;this.set=function(e,n){return t.setItem(e,n),this.get(e)},this.get=function(e){return t.getItem(e)||null},this.remove=function(e){return t.removeItem(e),!0},this.clear=function(){return t.clear(),!0}},s=function(){this.getParams=()=>{let t=window.location.search;return t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce(((t,e)=>{let[n,o]=e.split("=");return t[n]=o?decodeURIComponent(o.replace(/\+/g," ")):"",t}),{}):{}},this.getParam=t=>this.getParams()[t]||null,this.getParamSingle=function(t){return(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))?decodeURIComponent(t[1]):null},this.updateQueryString=(t,e,n=!1)=>{n||(n=window.location.href);var o,i=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi");if(i.test(n))return null!=e?n.replace(i,"$1"+t+"="+e+"$2$3"):(o=n.split("#"),n=o[0].replace(i,"$1$3").replace(/(&|\?)$/,""),void 0!==o[1]&&null!==o[1]&&(n+="#"+o[1]),n);if(null!=e){var r=-1!==n.indexOf("?")?"&":"?";return o=n.split("#"),n=o[0]+r+t+"="+e,void 0!==o[1]&&null!==o[1]&&(n+="#"+o[1]),n}return n},this.setParam=(t,e)=>{let n=this.updateQueryString(t,e);window.history.pushState({path:n},"",n)}},a=function(){this.defaultSystem=10,this.defaultLength=13,this.defaultUIdCount=4,this.maxLength=this.defaultLength,this.single=function(t=this.defaultSystem,e=this.defaultLength){e>this.maxLength&&(e=this.maxLength,console.warn("Max length of random number is "+this.maxLength));let n,o=window.Math.floor(4503599627370496*window.Math.random());return o=o.toString(t).substring(1),n=o.split("").splice(0,e).join(""),n},this.multy=function(t=this.defaultUIdCount,e=this.defaultSystem,n=this.defaultLength){let o="";for(let i=0;i<t;i++)o+=this.single(e,n)+"-",i==t-1&&(o=o.substring(0,o.length-1));return o},this.between=function(t=0,e=100){return t=parseInt(t),e=parseInt(e),!isNaN(t)&&!isNaN(e)&&(t>e?Math.floor(Math.random()*(t-e+1)+e):Math.floor(Math.random()*(e-t+1)+t))}},h=function(){this.timeAgo=function(t,e={},n=""){if(e.sec=e&&e.sec?e.sec:"sec.",e.min=e&&e.min?e.min:"min.",e.h=e&&e.h?e.h:"h.",e.d=e&&e.d?e.d:"d.",e.m=e&&e.m?e.m:"m.",e.y=e&&e.y?e.y:"y.",!t)return null;let o=6e4,i=36e5,r=864e5,s=2592e6,a=31536e6,h=+new Date-t,c="";return console.log(new Date),c=h<o?Math.round(h/1e3)+" "+e.sec+" "+n:h<i?Math.round(h/o)+" "+e.min+" "+Math.round(h%o/1e3)+" "+e.sec+" "+n:h<r?Math.round(h/i)+" "+e.h+" "+Math.round(h%i/o)+" "+e.min+" "+n:h<s?Math.round(h/r)+" "+e.d+" "+Math.round(h%r/i)+" "+e.h+" "+n:h<a?Math.round(h/s)+" "+e.m+" "+Math.round(h%s/r)+" "+e.d+" "+n:Math.round(h/a)+" "+e.y+" "+Math.round(h%a/s)+" "+e.m+" "+n,c}},c=function(){this.sha256=function(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function i(t,e,n){return t&e^~t&n}function r(t,e,n){return t&e^t&n^e&n}function s(t){return n(t,2)^n(t,13)^n(t,22)}function a(t){return n(t,6)^n(t,11)^n(t,25)}function h(t){return n(t,7)^n(t,18)^o(t,3)}return function(t){for(var e="0123456789abcdef",n="",o=0;o<4*t.length;o++)n+=e.charAt(t[o>>2]>>8*(3-o%4)+4&15)+e.charAt(t[o>>2]>>8*(3-o%4)&15);return n}(function(t,c){var u,l,d,f,p,m,g,v,y,w,S,b=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),C=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),I=new Array(64);t[c>>5]|=128<<24-c%32,t[15+(c+64>>9<<4)]=c;for(var E=0;E<t.length;E+=16){u=C[0],l=C[1],d=C[2],f=C[3],p=C[4],m=C[5],g=C[6],v=C[7];for(var M=0;M<64;M++)I[M]=M<16?t[M+E]:e(e(e(n(S=I[M-2],17)^n(S,19)^o(S,10),I[M-7]),h(I[M-15])),I[M-16]),y=e(e(e(e(v,a(p)),i(p,m,g)),b[M]),I[M]),w=e(s(u),r(u,l,d)),v=g,g=m,m=p,p=e(f,y),f=d,d=l,l=u,u=e(y,w);C[0]=e(u,C[0]),C[1]=e(l,C[1]),C[2]=e(d,C[2]),C[3]=e(f,C[3]),C[4]=e(p,C[4]),C[5]=e(m,C[5]),C[6]=e(g,C[6]),C[7]=e(v,C[7])}return C}(function(t){for(var e=Array(),n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}(t)),8*t.length))}},u=function(t,e){this.getItems=function(t){return t instanceof NodeList?t:t instanceof Node?[t]:document.querySelectorAll(t)},this.items=this.getItems(t),this.in=!!e.in&&e.in,this.out=!!e.out&&e.out,this.activeList=!!e.activeList&&e.activeList,this.scrollTop=0,this.offset=e.offset?e.offset:0,this.dynamicDom=!!e.dynamicDom&&e.dynamicDom,this.intervalChecking=!!e.intervalChecking&&e.intervalChecking,this.setScrollTop=function(t){this.scrollTop=t},this.checkItem=function(t){let e=t.getBoundingClientRect(),n=parseFloat(this.offset)||0,o=parseFloat(this.offset)||0,i=window.innerHeight;return window.getComputedStyle(t),this.offset&&this.offset.top&&parseFloat(this.offset.top)&&(n=parseFloat(this.offset.top)),this.offset&&this.offset.bottom&&parseFloat(this.offset.bottom)&&(o=parseFloat(this.offset.bottom)),e.top-n+e.height>=0&&e.top+o+i<=2*i?{bool:!0}:e.top+o+i>2*i?{bool:!1,direction:"bottom"}:e.top-n+e.height<0?{bool:!1,direction:"top"}:void 0},this.checkItems=function(){if(this.items=this.dynamicDom?this.getItems(t):this.items,!this.items)return!1;let e=[];this.items.forEach(((t,n)=>{let o=this.checkItem(t);o.bool&&this.in&&this.in(t),o.bool&&this.activeList&&e.push(t),!o.bool&&this.out&&this.out(t,o.direction)})),this.activeList&&this.activeList(e)},this.watch=function(){new MutationObserver((function(t){t.forEach((function(t){console.log(t)}))})).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.setScrollTop(window.pageYOffset),this.checkItems(),this.intervalChecking&&setInterval((()=>{this.setScrollTop(window.pageYOffset),this.checkItems()}),this.intervalChecking),window.addEventListener("scroll",(()=>{this.setScrollTop(window.pageYOffset),this.checkItems()})),window.addEventListener("resize",(()=>{this.setScrollTop(window.pageYOffset),this.checkItems()}))},this.watch()},l=function(){this.getDistance=function(t,e){if(!t||!e)return 0;let n=(e[0]-t[0])*Math.PI/180,o=(e[1]-t[1])*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t[0]*Math.PI/180)*Math.cos(e[0]*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),r=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return Math.round(6371*r*1e3)}},d=function(){this.format=function(t,e=" "){return t?t=(t=parseFloat(t)).toString().replace(/\./.test(t)?/(\d)(?=(?:\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g,"$1"+e):0}},f=function(t){return this.options=t,this.options.container=this.options.container?this.options.container:"#app",this.options.navItems=this.options.navItems?this.options.navItems:".ajax",this.options.preloader=!!this.options.preloader,this.beforeInit=!!this.options.beforeInit&&this.options.beforeInit,this.afterInit=!!this.options.afterInit&&this.options.afterInit,this.beforeRendered=!!this.options.beforeRendered&&this.options.beforeRendered,this.afterRendered=!!this.options.afterRendered&&this.options.afterRendered,this.app=document.querySelector(this.options.container),this.isLoadProcess=!1,this.exact=!!this.options.exact,this.get=function(t,e,n,o,i){var r,s,a=new XMLHttpRequest,h="";for(s in n)h+=encodeURIComponent(s)+"="+encodeURIComponent(n[s])+"&";"GET"===e&&h&&(t=t+"?"+h),a.open(e,t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),"GET"===e&&a.setRequestHeader("X-REQUESTED-WITH","XMLHttpRequest"),a.send(h),a.onreadystatechange=function(){4==a.readyState&&(200!=a.status?i(a):(r=a.responseText,o(r)))}},this.createPreloader=function(){var t=document.createElement("div"),e=document.createElement("div");return t.classList.add("preloader"),e.classList.add("preloader-spinner"),t.appendChild(e),t},this.appendPreloader=function(){var t=this;this.preloader=this.createPreloader(),document.body.appendChild(this.preloader),setTimeout((function(){t.preloader.classList.add("preloader__visible")}),0)},this.removePreloader=function(){var t=this;t.preloader.classList.remove("preloader__visible"),setTimeout((function(){t.preloader.parentNode.removeChild(t.preloader)}),400)},this.loadStart=function(){this.isLoadProcess=!0,this.options.preloader&&this.appendPreloader()},this.loadEnd=function(){this.isLoadProcess=!1,this.options.preloader&&this.removePreloader()},this.parseAndReplace=function(t,e,n){var o=this,i=(new DOMParser).parseFromString(t,"text/html"),r=document.querySelector(o.options.container),s=i.querySelector(o.options.container),a=i.head.querySelector("title").innerHTML,h=i.body.className;document.body.className=h,document.querySelector("head title").innerHTML=a,s&&r?(r.parentNode.replaceChild(s,r),n&&history.pushState(null,null,e),o.addLinksEvent(o.options.navItems),o.afterRendered&&o.afterRendered(s),o.loadEnd()):window.location=e},this.getContent=function(t,e){var n=this;n.beforeRendered&&n.beforeRendered(),n.exact&&this.href===location.href||n.isLoadProcess||(n.loadStart(),n.get(t,"POST",{},(function(o){n.parseAndReplace(o,t,e)}),(function(o){404===o.status?n.parseAndReplace(o.responseText,t,e):n.loadEnd(),0===o.status&&window.open(t)})))},this.addLinksEvent=function(t){for(var e=this,n=(t=t||this.options.navItems,document.querySelectorAll(t)),o=0;o<n.length;o++)n[o]instanceof Element&&"a"===n[o].tagName.toLowerCase()&&n[o].addEventListener("click",(function(t){t.preventDefault();var n=this.href;e.getContent(n,!0)}))},this.popStateListener=function(){var t=this;window.addEventListener("popstate",(function(e){t.getContent(location.pathname+location.search,!1)}))},this.goTo=function(t){this.getContent(t,!0)},this.init=function(){return this.loadStart(),window.addEventListener("load",(()=>{this.loadEnd()})),this.beforeInit&&this.beforeInit(),this.addLinksEvent(this.options.navItems),this.popStateListener(),this.afterRendered&&this.afterRendered(document.querySelector(this.options.container)),this.afterInit&&this.afterInit(),this},this.init()},p=class{isMobile(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}},m=function(){var t=this;this.events=[],this.pub=function(e,n){t.events.filter((function(t){return t.name===e})).forEach((function(t){t.callback(n)}))},this.sub=function(e){t.events.push(e)},this.unsub=function(e){t.events=t.events.filter((function(t){return t.name!==e.name&&t.callback!==e.callback}))}};module.exports=e})();
//# sourceMappingURL=bundle.js.map